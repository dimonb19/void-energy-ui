/* Tooltip surface styles for floating UI elements. */

@use '../abstracts' as *;
@use '../base/typography' as *;

.void-tooltip {
  // Popover reset.
  border: none;
  background: transparent;
  margin: 0;
  inset: unset; // Let Floating UI handle positions

  // Base geometry.
  pointer-events: none; // Allow clicking through the tooltip
  width: max-content;
  max-width: var(--tooltip-max-width); // Readability constraint

  // Physics inheritance.
  @include glass-float($interactive: false);

  // Typography.
  @include typography('caption');

  padding: var(--space-xs) var(--space-sm);
  text-align: center;
  color: var(--text-main);

  // Default (closed) state.
  opacity: 0;
  transform: translateY(4px) scale(0.95); // void-ignore (Motion Physics)
  filter: blur(calc(var(--physics-blur) / 2));

  box-shadow: var(--shadow-lift);

  // Constrain transitions to avoid layout thrashing.
  transition:
    opacity var(--speed-base) var(--ease-stabilize),
    transform var(--speed-base) var(--ease-stabilize),
    filter var(--speed-base) var(--ease-stabilize);

  // Open state.
  &[data-state='open'] {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }

  // Retro overrides.
  @at-root [data-physics='retro'] & {
    border-radius: 0;
    transition: none; // Law: Instant motion
    filter: none; // Law: No blur
    background: var(--bg-canvas); // Opaque
  }

  // Flat overrides.
  @at-root [data-mode='light'] & {
    filter: none;
  }
}
